<!DOCTYPE html>
<html>
<head>
    <meta charset='UTF-8'>
    <title>PicoAtmos - Monitor Atmosf√©rico (Demo)</title>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <script src='https://cdn.jsdelivr.net/npm/chart.js'></script>
    <style>
        body { font-family: sans-serif; text-align: center; padding: 20px; margin: 0; background: #f0f8ff; }
        .container { max-width: 1200px; margin: 0 auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h1 { color: #2c3e50; margin-top: 0; }
        .nav-buttons { margin: 20px 0; display: flex; gap: 10px; justify-content: center; flex-wrap: wrap; }
        .nav-btn { background: #3498db; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; text-decoration: none; }
        .nav-btn:hover { background: #2980b9; }
        .nav-btn.active { background: #e74c3c; }
        .calibration-btn { background: #e67e22; }
        .calibration-btn:hover { background: #d35400; }
        .graficos-btn { background: #9b59b6; }
        .graficos-btn:hover { background: #8e44ad; }
        .estados-btn { background: #e74c3c; }
        .estados-btn:hover { background: #c0392b; }
        .limites-btn { background: #27ae60; }
        .limites-btn:hover { background: #229954; }
        .sensor-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px; margin: 20px 0; }
        .sensor-card { background: #f8f9fa; padding: 15px; border-radius: 8px; border-left: 4px solid #3498db; }
        .sensor-value { font-size: 24px; font-weight: bold; color: #2c3e50; }
        .sensor-unit { font-size: 14px; color: #7f8c8d; }
        .status-info { background: #ecf0f1; padding: 10px; border-radius: 4px; margin-top: 15px; }
        .page { display: none; }
        .page.active { display: block; }
        .charts-container { margin: 30px 0; }
        .charts-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 20px; }
        .chart-card { background: #f8f9fa; padding: 20px; border-radius: 8px; border: 1px solid #ddd; }
        .chart-title { font-weight: bold; margin-bottom: 15px; color: #2c3e50; text-align: center; }
        canvas { max-width: 100%; height: 300px !important; }
        .system-status { margin: 30px 0; padding: 20px; background: #f8f9fa; border-radius: 8px; border: 1px solid #ddd; }
        .system-status h3 { color: #2c3e50; margin-top: 0; }
        .status-list { display: flex; flex-direction: column; gap: 15px; margin: 20px 0; }
        .status-item { padding: 15px; border-radius: 8px; text-align: left; display: flex; justify-content: space-between; align-items: center; }
        .status-item.baixo { background: #cce7ff; color: #004085; border-left: 5px solid #007bff; }
        .status-item.normal { background: #d4edda; color: #155724; border-left: 5px solid #28a745; }
        .status-item.alto { background: #f8d7da; color: #721c24; border-left: 5px solid #dc3545; }
        .status-label { font-size: 18px; font-weight: bold; }
        .status-value { font-size: 18px; }
        .legend-container { margin: 30px 0; padding: 20px; background: #e8f6f3; border-radius: 8px; }
        .legend-item { margin: 10px 0; padding: 10px; background: white; border-radius: 5px; display: flex; justify-content: space-between; align-items: center; }
        .legend-color { width: 20px; height: 20px; border-radius: 50%; margin-right: 10px; }
        .legend-verde { background-color: #28a745; }
        .legend-azul { background-color: #007bff; }
        .legend-vermelho { background-color: #dc3545; }
        .legend-roxo { background-color: #6f42c1; }
        .legend-amarelo { background-color: #ffc107; }
        .legend-branco { background-color: #6c757d; border: 1px solid #ddd; }
        .limits-container { margin: 20px 0; background: #e8f4fd; border-radius: 8px; padding: 20px; }
        .limits-help { background: #d1ecf1; padding: 15px; border-radius: 6px; margin-bottom: 20px; text-align: left; font-size: 14px; line-height: 1.4; }
        .limits-help h4 { margin-top: 0; color: #2c3e50; }
        .limits-section { margin: 15px 0; padding: 15px; background: #ffffff; border-radius: 8px; border: 1px solid #bdc3c7; }
        .limits-title { font-weight: bold; margin-bottom: 10px; color: #2c3e50; }
        .limits-row { display: flex; justify-content: space-between; align-items: center; margin: 8px 0; flex-wrap: wrap; gap: 10px; }
        .limits-inputs { display: flex; gap: 10px; align-items: center; }
        input { padding: 8px; border: 1px solid #ddd; border-radius: 4px; width: 100px; }
        input:focus { border-color: #27ae60; outline: none; }
        button { background: #27ae60; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer; }
        button:hover { background: #229954; }
        .calibration-container { margin: 20px 0; background: #e8f6f3; border-radius: 8px; padding: 20px; }
        .calibration-help { background: #d5f4e6; padding: 15px; border-radius: 6px; margin-bottom: 20px; text-align: left; font-size: 14px; line-height: 1.4; }
        .calibration-section { margin: 15px 0; padding: 15px; background: #ffffff; border-radius: 8px; border: 1px solid #bdc3c7; }
        .range-display { font-size: 16px; color: #2c3e50; font-weight: bold; }
        .success-msg { background: #d4edda; color: #155724; padding: 10px; border-radius: 4px; margin: 10px 0; display: none; }
        .current-values { margin: 20px 0; padding: 15px; background: #f8f9fa; border-radius: 8px; }
    </style>
</head>
<body>
    <div class='container'>
        <h1>üå°Ô∏è PicoAtmos - Monitor Atmosf√©rico (Demo)</h1>
        
        <div class='nav-buttons'>
            <button onclick='mostrarPagina("principal")' class='nav-btn active' id='btn-principal'>üè† Principal</button>
            <button onclick='mostrarPagina("graficos")' class='nav-btn graficos-btn' id='btn-graficos'>üìä Gr√°ficos</button>
            <button onclick='mostrarPagina("estados")' class='nav-btn estados-btn' id='btn-estados'>üö® Estados</button>
            <button onclick='mostrarPagina("limites")' class='nav-btn limites-btn' id='btn-limites'>‚öôÔ∏è Limites</button>
            <button onclick='mostrarPagina("calibracao")' class='nav-btn calibration-btn' id='btn-calibracao'>üîß Calibra√ß√£o</button>
        </div>

        <!-- P√°gina Principal -->
        <div id='principal' class='page active'>
            <div class='sensor-grid'>
                <div class='sensor-card'><div>Temperatura AHT</div><div class='sensor-value'><span id='temp_aht'>--</span><span class='sensor-unit'>¬∞C</span></div></div>
                <div class='sensor-card'><div>Temperatura BMP</div><div class='sensor-value'><span id='temp_bmp'>--</span><span class='sensor-unit'>¬∞C</span></div></div>
                <div class='sensor-card'><div>Temperatura M√©dia</div><div class='sensor-value'><span id='temp_atual'>--</span><span class='sensor-unit'>¬∞C</span></div></div>
                <div class='sensor-card'><div>Umidade</div><div class='sensor-value'><span id='umid_atual'>--</span><span class='sensor-unit'>%</span></div></div>
                <div class='sensor-card'><div>Press√£o</div><div class='sensor-value'><span id='press_atual'>--</span><span class='sensor-unit'>hPa</span></div></div>
            </div>
            <div class='status-info'><div>Sistema PicoAtmos ativo (Demo)</div><div>Dados simulados atualizando a cada 2 segundos</div><div>Acesse as se√ß√µes espec√≠ficas atrav√©s dos bot√µes acima</div></div>
        </div>

        <!-- P√°gina Gr√°ficos -->
        <div id='graficos' class='page'>
            <h2>üìä Gr√°ficos em Tempo Real</h2>
            <div class='charts-container'>
                <div class='charts-grid'>
                    <div class='chart-card'><div class='chart-title'>Temperatura M√©dia</div><canvas id='chartTempMedia'></canvas></div>
                    <div class='chart-card'><div class='chart-title'>Umidade</div><canvas id='chartUmidade'></canvas></div>
                    <div class='chart-card'><div class='chart-title'>Press√£o</div><canvas id='chartPressao'></canvas></div>
                </div>
            </div>
        </div>

        <!-- P√°gina Estados -->
        <div id='estados' class='page'>
            <h2>üö® Estados do Sistema</h2>
            <div class='system-status'>
                <h3>Status Atual dos Sensores</h3>
                <div class='status-list'>
                    <div id='temp_status' class='status-item'>
                        <div><span class='status-label'>Temperatura: </span><span id='temp_atual_value'>--</span></div>
                        <div><span class='status-value'>--</span></div>
                    </div>
                    <div id='umid_status' class='status-item'>
                        <div><span class='status-label'>Umidade: </span><span id='umid_atual_value'>--</span></div>
                        <div><span class='status-value'>--</span></div>
                    </div>
                    <div id='press_status' class='status-item'>
                        <div><span class='status-label'>Press√£o: </span><span id='press_atual_value'>--</span></div>
                        <div><span class='status-value'>--</span></div>
                    </div>
                </div>
            </div>
            <div class='legend-container'>
                <h3>Legenda de Cores LED</h3>
                <div class='legend-item'><div style='display: flex; align-items: center;'><div class='legend-color legend-verde'></div>Verde</div><div>Sistema Normal</div></div>
                <div class='legend-item'><div style='display: flex; align-items: center;'><div class='legend-color legend-vermelho'></div>Vermelho</div><div>Temperatura Alta</div></div>
                <div class='legend-item'><div style='display: flex; align-items: center;'><div class='legend-color legend-azul'></div>Azul</div><div>Temperatura Baixa</div></div>
                <div class='legend-item'><div style='display: flex; align-items: center;'><div class='legend-color legend-roxo'></div>Roxo</div><div>Umidade Alta</div></div>
                <div class='legend-item'><div style='display: flex; align-items: center;'><div class='legend-color legend-amarelo'></div>Amarelo</div><div>Umidade Baixa</div></div>
                <div class='legend-item'><div style='display: flex; align-items: center;'><div class='legend-color legend-branco'></div>Branco</div><div>Press√£o Alta</div></div>
                <div class='legend-item'><div style='display: flex; align-items: center;'><div class='legend-color' style='background: #495057;'></div>Desligado</div><div>Press√£o Baixa</div></div>
            </div>
        </div>

        <!-- P√°gina Limites -->
        <div id='limites' class='page'>
            <h2>‚öôÔ∏è Configura√ß√£o de Limites</h2>
            <div id='success-msg-limites' class='success-msg'>Limites atualizados com sucesso!</div>
            <div class='limits-container'>
                <h3>Configura√ß√£o de Limites de Alerta</h3>
                <div class='limits-help'>
                    <h4>Como configurar os limites:</h4>
                    <p>Os limites definem quando os alertas visuais e sonoros ser√£o ativados. Configure os valores m√≠nimo e m√°ximo para cada par√¢metro.</p>
                    <p><strong>üîî Alertas:</strong> LEDs RGB, buzzer e matriz de LED s√£o ativados quando os valores saem da faixa configurada.</p>
                    <p><strong>üéØ Dica:</strong> Configure limites adequados para seu ambiente para evitar alarmes desnecess√°rios.</p>
                </div>
                <div class='limits-section'>
                    <div class='limits-title'>Temperatura</div>
                    <div class='limits-row'>
                        <span>Faixa Atual: <span id='temp_range_display' class='range-display'>20.0 - 30.0</span>¬∞C</span>
                        <div class='limits-inputs'>
                            <input type='number' id='temp_min' step='0.1' value='20.0' placeholder='M√≠nimo'>
                            <span>at√©</span>
                            <input type='number' id='temp_max' step='0.1' value='30.0' placeholder='M√°ximo'>
                            <span>¬∞C</span>
                        </div>
                    </div>
                </div>
                <div class='limits-section'>
                    <div class='limits-title'>Umidade</div>
                    <div class='limits-row'>
                        <span>Faixa Atual: <span id='umid_range_display' class='range-display'>40.0 - 80.0</span>%</span>
                        <div class='limits-inputs'>
                            <input type='number' id='umid_min' step='1' value='40' placeholder='M√≠nimo'>
                            <span>at√©</span>
                            <input type='number' id='umid_max' step='1' value='80' placeholder='M√°ximo'>
                            <span>%</span>
                        </div>
                    </div>
                </div>
                <div class='limits-section'>
                    <div class='limits-title'>Press√£o</div>
                    <div class='limits-row'>
                        <span>Faixa Atual: <span id='press_range_display' class='range-display'>1000.0 - 1030.0</span> hPa</span>
                        <div class='limits-inputs'>
                            <input type='number' id='press_min' step='0.1' value='1000.0' placeholder='M√≠nimo'>
                            <span>at√©</span>
                            <input type='number' id='press_max' step='0.1' value='1030.0' placeholder='M√°ximo'>
                            <span>hPa</span>
                        </div>
                    </div>
                </div>
                <button onclick='atualizarLimites()'>üíæ Salvar Limites</button>
            </div>
        </div>

        <!-- P√°gina Calibra√ß√£o -->
        <div id='calibracao' class='page'>
            <h2>üîß Calibra√ß√£o dos Sensores</h2>
            <div id='success-msg-cal' class='success-msg'>Calibra√ß√µes salvas com sucesso!</div>
            <div class='current-values'>
                <h3>Valores Atuais dos Sensores (J√° Calibrados)</h3>
                <div class='sensor-grid'>
                    <div class='sensor-card'><div>Temperatura AHT20</div><div class='sensor-value'><span id='temp_aht_atual'>--</span>¬∞C</div></div>
                    <div class='sensor-card'><div>Temperatura BMP280</div><div class='sensor-value'><span id='temp_bmp_atual'>--</span>¬∞C</div></div>
                    <div class='sensor-card'><div>Umidade</div><div class='sensor-value'><span id='umid_atual_cal'>--</span>%</div></div>
                    <div class='sensor-card'><div>Press√£o</div><div class='sensor-value'><span id='press_atual_cal'>--</span> hPa</div></div>
                </div>
            </div>
            <div class='calibration-container'>
                <h3>Ajustes de Calibra√ß√£o (Offset)</h3>
                <div class='calibration-help'>
                    <h4>Como usar a calibra√ß√£o:</h4>
                    <p>Use os campos abaixo para compensar varia√ß√µes dos sensores. Compare a leitura atual com um medidor de refer√™ncia confi√°vel e insira a diferen√ßa para corrigir.</p>
                    <p><strong>Exemplo 1 (Offset Positivo):</strong> Se o sensor marca 24.5¬∞C e o valor real √© 25.0¬∞C, insira <strong>+0.5</strong></p>
                    <p><strong>Exemplo 2 (Offset Negativo):</strong> Se o sensor marca 26.2¬∞C e o valor real √© 26.0¬∞C, insira <strong>-0.2</strong></p>
                    <p><strong>Importante:</strong> A calibra√ß√£o se aplica a todas as telas, gr√°ficos e alertas do sistema.</p>
                </div>
                <div class='calibration-section'>
                    <div class='limits-title'>Temperatura AHT20</div>
                    <div class='limits-row'>
                        <span>Offset de Calibra√ß√£o:</span>
                        <div class='limits-inputs'>
                            <input type='number' id='offset_temp_aht' step='0.01' value='0.00' placeholder='¬±0.00'>
                            <span>¬∞C</span>
                        </div>
                    </div>
                </div>
                <div class='calibration-section'>
                    <div class='limits-title'>Temperatura BMP280</div>
                    <div class='limits-row'>
                        <span>Offset de Calibra√ß√£o:</span>
                        <div class='limits-inputs'>
                            <input type='number' id='offset_temp_bmp' step='0.01' value='0.00' placeholder='¬±0.00'>
                            <span>¬∞C</span>
                        </div>
                    </div>
                </div>
                <div class='calibration-section'>
                    <div class='limits-title'>Umidade</div>
                    <div class='limits-row'>
                        <span>Offset de Calibra√ß√£o:</span>
                        <div class='limits-inputs'>
                            <input type='number' id='offset_umid' step='0.01' value='0.00' placeholder='¬±0.00'>
                            <span>%</span>
                        </div>
                    </div>
                </div>
                <div class='calibration-section'>
                    <div class='limits-title'>Press√£o</div>
                    <div class='limits-row'>
                        <span>Offset de Calibra√ß√£o:</span>
                        <div class='limits-inputs'>
                            <input type='number' id='offset_press' step='0.01' value='0.00' placeholder='¬±0.00'>
                            <span>hPa</span>
                        </div>
                    </div>
                </div>
                <button onclick='atualizarCalibracoes()'>üîß Salvar Calibra√ß√µes</button>
            </div>
        </div>
    </div>

    <script>
        let charts = {};
        let chartData = { tempMedia: [], umidade: [], pressao: [], labels: [] };
        let dadosSimulados = {
            temp_aht: 25.2,
            temp_bmp: 24.8,
            temp_media: 25.0,
            umidade: 65.0,
            pressao: 1013.25,
            temp_min: 20.0,
            temp_max: 30.0,
            umid_min: 40.0,
            umid_max: 80.0,
            press_min: 1000.0,
            press_max: 1030.0,
            offset_temp_aht: 0.0,
            offset_temp_bmp: 0.0,
            offset_umid: 0.0,
            offset_press: 0.0
        };

        function mostrarPagina(pagina) {
            // Esconder todas as p√°ginas
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            
            // Mostrar p√°gina selecionada
            document.getElementById(pagina).classList.add('active');
            document.getElementById('btn-' + pagina).classList.add('active');
            
            // Se for gr√°ficos, criar os gr√°ficos
            if(pagina === 'graficos' && Object.keys(charts).length === 0) {
                setTimeout(criarGraficos, 100);
            }
        }

        function gerarDadosAleatorios() {
            // Simula varia√ß√µes realistas nos sensores
            dadosSimulados.temp_aht += (Math.random() - 0.5) * 0.4;
            dadosSimulados.temp_bmp += (Math.random() - 0.5) * 0.4;
            dadosSimulados.temp_media = (dadosSimulados.temp_aht + dadosSimulados.temp_bmp) / 2;
            dadosSimulados.umidade += (Math.random() - 0.5) * 2;
            dadosSimulados.pressao += (Math.random() - 0.5) * 0.5;
            
            // Manter valores dentro de faixas realistas
            dadosSimulados.temp_aht = Math.max(20, Math.min(35, dadosSimulados.temp_aht));
            dadosSimulados.temp_bmp = Math.max(20, Math.min(35, dadosSimulados.temp_bmp));
            dadosSimulados.umidade = Math.max(30, Math.min(90, dadosSimulados.umidade));
            dadosSimulados.pressao = Math.max(990, Math.min(1040, dadosSimulados.pressao));
        }

        function atualizarInterface() {
            gerarDadosAleatorios();
            
            // Atualizar valores principais
            document.getElementById('temp_aht').innerText = dadosSimulados.temp_aht.toFixed(1);
            document.getElementById('temp_bmp').innerText = dadosSimulados.temp_bmp.toFixed(1);
            document.getElementById('temp_atual').innerText = dadosSimulados.temp_media.toFixed(1);
            document.getElementById('umid_atual').innerText = dadosSimulados.umidade.toFixed(1);
            document.getElementById('press_atual').innerText = dadosSimulados.pressao.toFixed(1);
            
            // Atualizar p√°gina de calibra√ß√£o
            document.getElementById('temp_aht_atual').innerText = dadosSimulados.temp_aht.toFixed(2);
            document.getElementById('temp_bmp_atual').innerText = dadosSimulados.temp_bmp.toFixed(2);
            document.getElementById('umid_atual_cal').innerText = dadosSimulados.umidade.toFixed(2);
            document.getElementById('press_atual_cal').innerText = dadosSimulados.pressao.toFixed(2);
            
            // Atualizar status na p√°gina de estados
            atualizarStatusSistema();
            
            // Atualizar gr√°ficos se existirem
            if(Object.keys(charts).length > 0) {
                atualizarGraficos();
            }
        }

        function atualizarStatusSistema() {
            const tempStatus = document.getElementById('temp_status');
            const tempValue = tempStatus.querySelector('.status-value');
            document.getElementById('temp_atual_value').textContent = dadosSimulados.temp_media.toFixed(1) + '¬∞C';
            
            if (dadosSimulados.temp_media < dadosSimulados.temp_min) {
                tempStatus.className = 'status-item baixo';
                tempValue.textContent = 'Abaixo do Limite ‚ùÑÔ∏è';
            } else if (dadosSimulados.temp_media > dadosSimulados.temp_max) {
                tempStatus.className = 'status-item alto';
                tempValue.textContent = 'Acima do Limite üî•';
            } else {
                tempStatus.className = 'status-item normal';
                tempValue.textContent = 'Normal ‚úÖ';
            }
            
            const umidStatus = document.getElementById('umid_status');
            const umidValue = umidStatus.querySelector('.status-value');
            document.getElementById('umid_atual_value').textContent = dadosSimulados.umidade.toFixed(1) + '%';
            
            if (dadosSimulados.umidade < dadosSimulados.umid_min) {
                umidStatus.className = 'status-item baixo';
                umidValue.textContent = 'Abaixo do Limite üèúÔ∏è';
            } else if (dadosSimulados.umidade > dadosSimulados.umid_max) {
                umidStatus.className = 'status-item alto';
                umidValue.textContent = 'Acima do Limite üíß';
            } else {
                umidStatus.className = 'status-item normal';
                umidValue.textContent = 'Normal ‚úÖ';
            }
            
            const pressStatus = document.getElementById('press_status');
            const pressValue = pressStatus.querySelector('.status-value');
            document.getElementById('press_atual_value').textContent = dadosSimulados.pressao.toFixed(1) + ' hPa';
            
            if (dadosSimulados.pressao < dadosSimulados.press_min) {
                pressStatus.className = 'status-item baixo';
                pressValue.textContent = 'Abaixo do Limite üåÄ';
            } else if (dadosSimulados.pressao > dadosSimulados.press_max) {
                pressStatus.className = 'status-item alto';
                pressValue.textContent = 'Acima do Limite ‚¨ÜÔ∏è';
            } else {
                pressStatus.className = 'status-item normal';
                pressValue.textContent = 'Normal ‚úÖ';
            }
        }

        function criarGraficos() {
            const ctx1 = document.getElementById('chartTempMedia').getContext('2d');
            const ctx2 = document.getElementById('chartUmidade').getContext('2d');
            const ctx3 = document.getElementById('chartPressao').getContext('2d');
            
            charts.tempMedia = new Chart(ctx1, {
                type: 'line',
                data: { labels: chartData.labels, datasets: [{
                    label: 'Temperatura M√©dia (¬∞C)', data: chartData.tempMedia,
                    borderColor: '#e74c3c', backgroundColor: 'rgba(231, 76, 60, 0.1)', tension: 0.4
                }]},
                options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: false }}}
            });
            
            charts.umidade = new Chart(ctx2, {
                type: 'line',
                data: { labels: chartData.labels, datasets: [{
                    label: 'Umidade (%)', data: chartData.umidade,
                    borderColor: '#3498db', backgroundColor: 'rgba(52, 152, 219, 0.1)', tension: 0.4
                }]},
                options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: true, max: 100 }}}
            });
            
            charts.pressao = new Chart(ctx3, {
                type: 'line',
                data: { labels: chartData.labels, datasets: [{
                    label: 'Press√£o (hPa)', data: chartData.pressao,
                    borderColor: '#27ae60', backgroundColor: 'rgba(39, 174, 96, 0.1)', tension: 0.4
                }]},
                options: { responsive: true, maintainAspectRatio: false, scales: { y: { beginAtZero: false }}}
            });
        }

        function atualizarGraficos() {
            const agora = new Date();
            const tempo = agora.toLocaleTimeString();
            chartData.tempMedia.push(dadosSimulados.temp_media);
            chartData.umidade.push(dadosSimulados.umidade);
            chartData.pressao.push(dadosSimulados.pressao);
            chartData.labels.push(tempo);
            
            const maxPoints = 20;
            if (chartData.labels.length > maxPoints) {
                chartData.tempMedia.shift();
                chartData.umidade.shift();
                chartData.pressao.shift();
                chartData.labels.shift();
            }
            
            Object.values(charts).forEach(chart => chart.update('none'));
        }

        function atualizarLimites() {
            dadosSimulados.temp_min = parseFloat(document.getElementById('temp_min').value);
            dadosSimulados.temp_max = parseFloat(document.getElementById('temp_max').value);
            dadosSimulados.umid_min = parseFloat(document.getElementById('umid_min').value);
            dadosSimulados.umid_max = parseFloat(document.getElementById('umid_max').value);
            dadosSimulados.press_min = parseFloat(document.getElementById('press_min').value);
            dadosSimulados.press_max = parseFloat(document.getElementById('press_max').value);
            
            document.getElementById('temp_range_display').innerText = dadosSimulados.temp_min.toFixed(1) + ' - ' + dadosSimulados.temp_max.toFixed(1);
            document.getElementById('umid_range_display').innerText = dadosSimulados.umid_min.toFixed(1) + ' - ' + dadosSimulados.umid_max.toFixed(1);
            document.getElementById('press_range_display').innerText = dadosSimulados.press_min.toFixed(1) + ' - ' + dadosSimulados.press_max.toFixed(1);
            
            const msg = document.getElementById('success-msg-limites');
            msg.style.display = 'block';
            setTimeout(() => { msg.style.display = 'none'; }, 3000);
        }

        function atualizarCalibracoes() {
            dadosSimulados.offset_temp_aht = parseFloat(document.getElementById('offset_temp_aht').value || 0);
            dadosSimulados.offset_temp_bmp = parseFloat(document.getElementById('offset_temp_bmp').value || 0);
            dadosSimulados.offset_umid = parseFloat(document.getElementById('offset_umid').value || 0);
            dadosSimulados.offset_press = parseFloat(document.getElementById('offset_press').value || 0);
            
            const msg = document.getElementById('success-msg-cal');
            msg.style.display = 'block';
            setTimeout(() => { msg.style.display = 'none'; }, 3000);
        }

        // Inicializar
        window.onload = function() {
            atualizarInterface();
            setInterval(atualizarInterface, 2000);
        };
    </script>
</body>
</html>
